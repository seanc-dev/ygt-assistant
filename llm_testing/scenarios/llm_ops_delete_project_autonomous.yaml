name: llm_ops_delete_project_autonomous
mode: mock
steps:
  - action: reset_state
  - action: http
    method: POST
    url: /dev/workroom/seed
    expect:
      status: 200
  - action: http
    method: GET
    url: /api/workroom/tree
    expect:
      status: 200
    extract:
      project_id_1: "tree.0.id"
      task_id_1: "tree.0.children.0.id"
  - action: http
    method: POST
    url: /api/workroom/tasks/<task_id_1>/assistant-suggest
    json:
      message: "Delete the Product Launch project"
      trust_level: "autonomous"
    expect:
      status: 200
expectations:
  function_calling:
    check_operations: true
    expected_operations: ["delete_project"]
    expected_behavior: "operations_should_be_applied"

