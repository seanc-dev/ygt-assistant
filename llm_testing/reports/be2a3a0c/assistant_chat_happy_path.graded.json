{
  "evaluation": {
    "scores": {
      "factual": 0.0,
      "clarity": 0.0,
      "safety": 0.0
    },
    "ok": false,
    "rationale": "snapshot_mismatch: --- stored\n+++ current\n@@ -24,7 +24,10 @@\n           }\n         ]\n       },\n-      \"status\": 200\n+      \"status\": 200,\n+      \"request_body\": {\n+        \"text\": \"\"\n+      }\n     },\n     {\n       \"endp",
    "snapshot": {
      "match": false,
      "diff": "--- stored\n+++ current\n@@ -24,7 +24,10 @@\n           }\n         ]\n       },\n-      \"status\": 200\n+      \"status\": 200,\n+      \"request_body\": {\n+        \"text\": \"\"\n+      }\n     },\n     {\n       \"endpoint\": \"/chat\",\n@@ -45,7 +48,10 @@\n           }\n         ]\n       },\n-      \"status\": 200\n+      \"status\": 200,\n+      \"request_body\": {\n+        \"text\": \"scan\"\n+      }\n     },\n     {\n       \"endpoint\": \"/chat\",\n@@ -58,7 +64,10 @@\n           }\n         ]\n       },\n-      \"status\": 200\n+      \"status\": 200,\n+      \"request_body\": {\n+        \"text\": \"approve appr-1\"\n+      }\n     },\n     {\n       \"endpoint\": \"/chat\",\n@@ -71,7 +80,10 @@\n           }\n         ]\n       },\n-      \"status\": 200\n+      \"status\": 200,\n+      \"request_body\": {\n+        \"text\": \"thanks!\"\n+      }\n     },\n     {\n       \"endpoint\": \"/history\",\n",
      "normalized": {
        "scenario": "assistant_chat_happy_path",
        "steps": [
          {
            "action": "reset_state",
            "response": {
              "ok": true,
              "cleared": {
                "approvals": true,
                "history": true,
                "queue": true,
                "settings": false
              }
            }
          },
          {
            "endpoint": "/chat",
            "method": "POST",
            "response": {
              "messages": [
                {
                  "role": "assistant",
                  "content": "Say 'scan' to propose actions."
                }
              ]
            },
            "status": 200,
            "request_body": {
              "text": ""
            }
          },
          {
            "endpoint": "/chat",
            "method": "POST",
            "response": {
              "messages": [
                {
                  "role": "assistant",
                  "content": "Proposed 1 approval(s). Reply 'approve <id>' or 'skip <id>'."
                }
              ],
              "approvals": [
                {
                  "id": "appr-1",
                  "title": "Follow up on top email",
                  "kind": "email",
                  "status": "proposed"
                }
              ]
            },
            "status": 200,
            "request_body": {
              "text": "scan"
            }
          },
          {
            "endpoint": "/chat",
            "method": "POST",
            "response": {
              "messages": [
                {
                  "role": "assistant",
                  "content": "Approved appr-1. Type 'undo appr-1' in the UI if needed."
                }
              ]
            },
            "status": 200,
            "request_body": {
              "text": "approve appr-1"
            }
          },
          {
            "endpoint": "/chat",
            "method": "POST",
            "response": {
              "messages": [
                {
                  "role": "assistant",
                  "content": "Unknown command. Try: 'scan', 'approve <id>', or 'skip <id>'."
                }
              ]
            },
            "status": 200,
            "request_body": {
              "text": "thanks!"
            }
          },
          {
            "endpoint": "/history",
            "method": "GET",
            "response": [
              {
                "ts": "now",
                "verb": "approve",
                "object": "approval",
                "id": "appr-1"
              }
            ],
            "status": 200
          }
        ],
        "text": "{'ok': True, 'cleared': {'approvals': True, 'history': True, 'queue': True, 'settings': False}}\n{'messages': [{'role': 'assistant', 'content': \"Say 'scan' to propose actions.\"}]}\n{'messages': [{'role': 'assistant', 'content': \"Proposed 1 approval(s). Reply 'approve <id>' or 'skip <id>'.\"}], 'approvals': [{'id': 'appr-1', 'title': 'Follow up on top email', 'kind': 'email', 'status': 'proposed'}]}\n{'messages': [{'role': 'assistant', 'content': \"Approved appr-1. Type 'undo appr-1' in the UI if needed.\"}]}\n{'messages': [{'role': 'assistant', 'content': \"Unknown command. Try: 'scan', 'approve <id>', or 'skip <id>'.\"}]}\n[{'ts': 'now', 'verb': 'approve', 'object': 'approval', 'id': 'appr-1'}]"
      }
    }
  }
}